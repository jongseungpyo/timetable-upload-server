<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì›ê°€ì… - íƒ€ì„ë¹Œë”</title>
    <link rel="stylesheet" href="/styles.css">
    <script>
        // CSS íŒŒì¼ì´ ë¡œë“œë˜ì§€ ì•Šìœ¼ë©´ CDN ì‚¬ìš©
        const link = document.createElement('link');
        link.onerror = () => {
            const script = document.createElement('script');
            script.src = 'https://cdn.tailwindcss.com';
            document.head.appendChild(script);
        };
        document.head.appendChild(link);
    </script>
</head>
<body class="bg-gray-50 font-sans min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex-shrink-0">
                    <a href="/" class="text-2xl font-bold text-navy-600 hover:text-navy-700 transition-colors">
                        ğŸ« íƒ€ì„ë¹Œë”
                    </a>
                </div>
                
                <!-- Navigation Links -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="/" class="px-3 py-2 rounded-md text-sm font-medium text-gray-600 hover:text-navy-600 hover:bg-navy-50 transition-colors">
                            í™ˆìœ¼ë¡œ
                        </a>
                        <button onclick="showLoginModal()" class="px-4 py-2 text-sm font-medium text-navy-600 border border-navy-600 rounded-md hover:bg-navy-50 transition-colors">
                            ë¡œê·¸ì¸
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <!-- Header -->
            <div class="text-center">
                <h2 class="mt-6 text-3xl font-bold text-gray-900">íšŒì›ê°€ì…</h2>
                <p class="mt-2 text-sm text-gray-600">
                    íƒ€ì„ë¹Œë”ì—ì„œ ì‹œê°„í‘œë¥¼ ê´€ë¦¬í•˜ì„¸ìš”
                </p>
            </div>

            <!-- Progress Steps -->
            <div class="flex items-center justify-center space-x-4 mb-8">
                <div class="flex items-center">
                    <div id="step1-indicator" class="flex items-center justify-center w-8 h-8 bg-navy-600 text-white rounded-full text-sm font-medium">
                        1
                    </div>
                    <span id="step1-label" class="ml-2 text-sm font-medium text-navy-600">ê°œì¸ì •ë³´ ë™ì˜</span>
                </div>
                <div class="w-8 h-0.5 bg-gray-300" id="progress-line1"></div>
                <div class="flex items-center">
                    <div id="step2-indicator" class="flex items-center justify-center w-8 h-8 bg-gray-300 text-gray-500 rounded-full text-sm font-medium">
                        2
                    </div>
                    <span id="step2-label" class="ml-2 text-sm font-medium text-gray-500">ì •ë³´ ì…ë ¥</span>
                </div>
                <div class="w-8 h-0.5 bg-gray-300" id="progress-line2"></div>
                <div class="flex items-center">
                    <div id="step3-indicator" class="flex items-center justify-center w-8 h-8 bg-gray-300 text-gray-500 rounded-full text-sm font-medium">
                        3
                    </div>
                    <span id="step3-label" class="ml-2 text-sm font-medium text-gray-500">ì™„ë£Œ</span>
                </div>
            </div>

            <!-- Step 1: ê°œì¸ì •ë³´ ë™ì˜ -->
            <div id="step1" class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</h3>
                
                <!-- í•„ìˆ˜ ë™ì˜ í•­ëª© -->
                <div class="space-y-4">
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="font-medium text-gray-900">[í•„ìˆ˜] ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</h4>
                            <label class="flex items-center">
                                <input type="checkbox" id="required-privacy" class="w-4 h-4 text-navy-600 border-gray-300 rounded focus:ring-navy-500">
                                <span class="ml-2 text-sm text-gray-600">ë™ì˜</span>
                            </label>
                        </div>
                        <div class="text-xs text-gray-600 bg-gray-50 p-3 rounded max-h-32 overflow-y-auto">
                            <p><strong>1. ê°œì¸ì •ë³´ ìˆ˜ì§‘ ëª©ì </strong></p>
                            <p>- íšŒì›ê°€ì… ë° ì„œë¹„ìŠ¤ ì œê³µ</p>
                            <p>- ì‹œê°„í‘œ ê´€ë¦¬ ì„œë¹„ìŠ¤ ì œê³µ</p>
                            <p>- ê³ ê° ë¬¸ì˜ ì‘ëŒ€</p>
                            <br>
                            <p><strong>2. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©</strong></p>
                            <p>- í•™ì›ëª…, ë‹´ë‹¹ìëª…, ì—°ë½ì²˜, ì´ë©”ì¼</p>
                            <br>
                            <p><strong>3. ê°œì¸ì •ë³´ ë³´ìœ  ë° ì´ìš©ê¸°ê°„</strong></p>
                            <p>- íšŒì› íƒˆí‡´ ì‹œê¹Œì§€</p>
                            <br>
                            <p><strong>4. ë™ì˜ ê±°ë¶€ê¶Œ</strong></p>
                            <p>ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ëŒ€í•œ ë™ì˜ë¥¼ ê±°ë¶€í•  ê¶Œë¦¬ê°€ ìˆìœ¼ë‚˜, ë™ì˜ë¥¼ ê±°ë¶€í•  ê²½ìš° ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>
                    </div>

                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="font-medium text-gray-900">[í•„ìˆ˜] ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€ ë™ì˜</h4>
                            <label class="flex items-center">
                                <input type="checkbox" id="required-terms" class="w-4 h-4 text-navy-600 border-gray-300 rounded focus:ring-navy-500">
                                <span class="ml-2 text-sm text-gray-600">ë™ì˜</span>
                            </label>
                        </div>
                        <div class="text-xs text-gray-600 bg-gray-50 p-3 rounded max-h-32 overflow-y-auto">
                            <p><strong>ì œ1ì¡° (ëª©ì )</strong></p>
                            <p>ë³¸ ì•½ê´€ì€ íƒ€ì„ë¹Œë”(ì´í•˜ "íšŒì‚¬")ê°€ ì œê³µí•˜ëŠ” ì‹œê°„í‘œ ê´€ë¦¬ ì„œë¹„ìŠ¤(ì´í•˜ "ì„œë¹„ìŠ¤")ì˜ ì´ìš©ì¡°ê±´ ë° ì ˆì°¨ì— ê´€í•œ ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
                            <br>
                            <p><strong>ì œ2ì¡° (ì •ì˜)</strong></p>
                            <p>1. "ì„œë¹„ìŠ¤"ë€ íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ì‹œê°„í‘œ ì—…ë¡œë“œ ë° ê´€ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                            <p>2. "íšŒì›"ì´ë€ ë³¸ ì•½ê´€ì— ë”°ë¼ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ê³ ê°ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                            <br>
                            <p><strong>ì œ3ì¡° (ì•½ê´€ì˜ íš¨ë ¥ ë° ë³€ê²½)</strong></p>
                            <p>ë³¸ ì•½ê´€ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ê³ ì í•˜ëŠ” ëª¨ë“  íšŒì›ì— ëŒ€í•˜ì—¬ ê·¸ íš¨ë ¥ì„ ë°œìƒí•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>

                    <!-- ì„ íƒ ë™ì˜ í•­ëª© -->
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="font-medium text-gray-900">[ì„ íƒ] ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜</h4>
                            <label class="flex items-center">
                                <input type="checkbox" id="optional-marketing" class="w-4 h-4 text-navy-600 border-gray-300 rounded focus:ring-navy-500">
                                <span class="ml-2 text-sm text-gray-600">ë™ì˜</span>
                            </label>
                        </div>
                        <div class="text-xs text-gray-600 bg-gray-50 p-3 rounded">
                            <p>ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ ë° ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ì´ë©”ì¼ë¡œ ë°›ì•„ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                            <p>ë™ì˜í•˜ì§€ ì•Šìœ¼ì…”ë„ ì„œë¹„ìŠ¤ ì´ìš©ì—ëŠ” ì œí•œì´ ì—†ìŠµë‹ˆë‹¤.</p>
                        </div>
                    </div>

                    <!-- ì „ì²´ ë™ì˜ -->
                    <div class="border-t pt-4">
                        <label class="flex items-center">
                            <input type="checkbox" id="agree-all" class="w-4 h-4 text-navy-600 border-gray-300 rounded focus:ring-navy-500">
                            <span class="ml-2 text-sm font-medium text-gray-900">ìœ„ ë‚´ìš©ì— ëª¨ë‘ ë™ì˜í•©ë‹ˆë‹¤</span>
                        </label>
                    </div>
                </div>

                <div class="mt-6">
                    <button id="step1-next" class="w-full bg-gray-300 text-gray-500 font-medium py-3 px-4 rounded-md cursor-not-allowed" disabled>
                        ë‹¤ìŒ ë‹¨ê³„
                    </button>
                </div>
            </div>

            <!-- Step 2: ì •ë³´ ì…ë ¥ -->
            <div id="step2" class="hidden bg-white rounded-lg shadow-md p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-4">í•™ì› ì •ë³´ ì…ë ¥</h3>
                
                <form id="registerForm" class="space-y-4">
                    <div>
                        <label for="academyName" class="block text-sm font-medium text-gray-700 mb-1">í•™ì›ëª… *</label>
                        <input 
                            type="text" 
                            id="academyName" 
                            name="academyName" 
                            required 
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500"
                            placeholder="ì˜ˆ: OOí•™ì›"
                        >
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="contactName" class="block text-sm font-medium text-gray-700 mb-1">ë‹´ë‹¹ìëª… *</label>
                            <input 
                                type="text" 
                                id="contactName" 
                                name="contactName" 
                                required 
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500"
                                placeholder="í™ê¸¸ë™"
                            >
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">ì—°ë½ì²˜ *</label>
                            <input 
                                type="tel" 
                                id="phone" 
                                name="phone" 
                                required 
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500"
                                placeholder="010-1234-5678"
                            >
                        </div>
                    </div>
                    
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">ì´ë©”ì¼ *</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            required 
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500"
                            placeholder="example@academy.com"
                        >
                    </div>
                    
                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">ë¹„ë°€ë²ˆí˜¸ *</label>
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            required 
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500"
                            placeholder="8ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”"
                        >
                        <p class="text-xs text-gray-500 mt-1">ì˜ë¬¸, ìˆ«ì ì¡°í•©ìœ¼ë¡œ 8ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                    </div>
                    
                    <div>
                        <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">ë¹„ë°€ë²ˆí˜¸ í™•ì¸ *</label>
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            name="confirmPassword" 
                            required 
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500"
                            placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”"
                        >
                    </div>

                    <div id="step2-error" class="hidden text-red-600 text-sm"></div>
                </form>

                <div class="mt-6 flex space-x-3">
                    <button id="step2-prev" class="flex-1 bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-md hover:bg-gray-300 transition-colors">
                        ì´ì „
                    </button>
                    <button id="step2-next" class="flex-1 bg-navy-600 text-white font-medium py-3 px-4 rounded-md hover:bg-navy-700 transition-colors">
                        íšŒì›ê°€ì…
                    </button>
                </div>
            </div>

            <!-- Step 3: ì™„ë£Œ -->
            <div id="step3" class="hidden bg-white rounded-lg shadow-md p-6 text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h3>
                <p class="text-gray-600 mb-6">
                    ê´€ë¦¬ì ìŠ¹ì¸ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                    ìŠ¹ì¸ ì™„ë£Œ ì‹œ ì´ë©”ì¼ë¡œ ì•ˆë‚´í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
                </p>
                <div class="space-y-3">
                    <button onclick="showLoginModal()" class="w-full bg-navy-600 text-white font-medium py-3 px-4 rounded-md hover:bg-navy-700 transition-colors">
                        ë¡œê·¸ì¸í•˜ê¸°
                    </button>
                    <a href="/" class="block w-full bg-gray-200 text-gray-700 font-medium py-3 px-4 rounded-md hover:bg-gray-300 transition-colors text-center">
                        í™ˆìœ¼ë¡œ ê°€ê¸°
                    </a>
                </div>
            </div>

            <!-- Footer Links -->
            <div class="text-center text-sm text-gray-600">
                <span>ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? </span>
                <button onclick="showLoginModal()" class="text-navy-600 hover:text-navy-700 font-medium">
                    ë¡œê·¸ì¸í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- Login Modal (ì¬ì‚¬ìš©ì„ ìœ„í•´ í¬í•¨) -->
    <div id="loginModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-2xl shadow-xl max-w-md w-full mx-4">
            <div class="px-6 py-4 border-b border-gray-200">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-gray-900">ë¡œê·¸ì¸</h3>
                    <button onclick="closeLoginModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div class="px-6 py-6">
                <form id="academyLoginForm" class="space-y-4">
                    <div>
                        <label for="loginEmail" class="block text-sm font-medium text-gray-700 mb-1">ì´ë©”ì¼</label>
                        <input type="email" id="loginEmail" name="email" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500">
                    </div>
                    <div>
                        <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-1">ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="loginPassword" name="password" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-navy-500 focus:border-navy-500">
                    </div>
                    <button type="submit" class="w-full bg-navy-600 hover:bg-navy-700 text-white font-medium py-2 px-4 rounded-md transition-colors">
                        ë¡œê·¸ì¸
                    </button>
                    <div id="loginModalResult"></div>
                </form>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;

        // ì§„í–‰ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateProgress(step) {
            // ëª¨ë“  step ì´ˆê¸°í™”
            for (let i = 1; i <= 3; i++) {
                const indicator = document.getElementById(`step${i}-indicator`);
                const label = document.getElementById(`step${i}-label`);
                
                if (i < step) {
                    // ì™„ë£Œëœ ë‹¨ê³„
                    indicator.className = 'flex items-center justify-center w-8 h-8 bg-green-600 text-white rounded-full text-sm font-medium';
                    indicator.innerHTML = 'âœ“';
                    label.className = 'ml-2 text-sm font-medium text-green-600';
                } else if (i === step) {
                    // í˜„ì¬ ë‹¨ê³„
                    indicator.className = 'flex items-center justify-center w-8 h-8 bg-navy-600 text-white rounded-full text-sm font-medium';
                    indicator.innerHTML = i;
                    label.className = 'ml-2 text-sm font-medium text-navy-600';
                } else {
                    // ë¯¸ì™„ë£Œ ë‹¨ê³„
                    indicator.className = 'flex items-center justify-center w-8 h-8 bg-gray-300 text-gray-500 rounded-full text-sm font-medium';
                    indicator.innerHTML = i;
                    label.className = 'ml-2 text-sm font-medium text-gray-500';
                }
            }

            // ì§„í–‰ì„  ì—…ë°ì´íŠ¸
            for (let i = 1; i <= 2; i++) {
                const line = document.getElementById(`progress-line${i}`);
                if (step > i) {
                    line.className = 'w-8 h-0.5 bg-green-600';
                } else {
                    line.className = 'w-8 h-0.5 bg-gray-300';
                }
            }
        }

        // ë‹¨ê³„ í‘œì‹œ/ìˆ¨ê¹€
        function showStep(step) {
            for (let i = 1; i <= 3; i++) {
                const stepElement = document.getElementById(`step${i}`);
                if (i === step) {
                    stepElement.classList.remove('hidden');
                } else {
                    stepElement.classList.add('hidden');
                }
            }
            currentStep = step;
            updateProgress(step);
        }

        // ë™ì˜ ì²´í¬ë°•ìŠ¤ ê´€ë¦¬
        document.addEventListener('DOMContentLoaded', function() {
            const requiredPrivacy = document.getElementById('required-privacy');
            const requiredTerms = document.getElementById('required-terms');
            const optionalMarketing = document.getElementById('optional-marketing');
            const agreeAll = document.getElementById('agree-all');
            const step1Next = document.getElementById('step1-next');

            function checkRequiredConsents() {
                const allRequired = requiredPrivacy.checked && requiredTerms.checked;
                if (allRequired) {
                    step1Next.className = 'w-full bg-navy-600 text-white font-medium py-3 px-4 rounded-md hover:bg-navy-700 transition-colors cursor-pointer';
                    step1Next.disabled = false;
                } else {
                    step1Next.className = 'w-full bg-gray-300 text-gray-500 font-medium py-3 px-4 rounded-md cursor-not-allowed';
                    step1Next.disabled = true;
                }
            }

            // ì „ì²´ ë™ì˜ ì²´í¬ë°•ìŠ¤
            agreeAll.addEventListener('change', function() {
                requiredPrivacy.checked = this.checked;
                requiredTerms.checked = this.checked;
                optionalMarketing.checked = this.checked;
                checkRequiredConsents();
            });

            // ê°œë³„ ì²´í¬ë°•ìŠ¤ë“¤
            [requiredPrivacy, requiredTerms, optionalMarketing].forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    agreeAll.checked = requiredPrivacy.checked && requiredTerms.checked && optionalMarketing.checked;
                    checkRequiredConsents();
                });
            });

            // ë‹¤ìŒ ë‹¨ê³„ ë²„íŠ¼
            step1Next.addEventListener('click', function() {
                if (!this.disabled) {
                    showStep(2);
                }
            });

            // ì´ì „ ë‹¨ê³„ ë²„íŠ¼
            document.getElementById('step2-prev').addEventListener('click', function() {
                showStep(1);
            });

            // íšŒì›ê°€ì… í¼ ì œì¶œ
            document.getElementById('step2-next').addEventListener('click', async function() {
                const form = document.getElementById('registerForm');
                const formData = new FormData(form);
                const errorDiv = document.getElementById('step2-error');

                // ë¹„ë°€ë²ˆí˜¸ í™•ì¸
                const password = formData.get('password');
                const confirmPassword = formData.get('confirmPassword');

                if (password !== confirmPassword) {
                    errorDiv.textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
                    errorDiv.classList.remove('hidden');
                    return;
                }

                if (password.length < 8) {
                    errorDiv.textContent = 'ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.';
                    errorDiv.classList.remove('hidden');
                    return;
                }

                try {
                    const response = await fetch('/api/academy/register', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            academyName: formData.get('academyName'),
                            contactName: formData.get('contactName'),
                            phone: formData.get('phone'),
                            email: formData.get('email'),
                            password: formData.get('password')
                        })
                    });

                    const data = await response.json();

                    if (data.success) {
                        showStep(3);
                    } else {
                        errorDiv.textContent = data.error || 'íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.';
                        errorDiv.classList.remove('hidden');
                    }
                } catch (error) {
                    errorDiv.textContent = `íšŒì›ê°€ì… ì˜¤ë¥˜: ${error.message}`;
                    errorDiv.classList.remove('hidden');
                }
            });
        });

        // ë¡œê·¸ì¸ ëª¨ë‹¬ ê´€ë¦¬
        function showLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
        }

        // ë¡œê·¸ì¸ í¼ ì²˜ë¦¬
        document.getElementById('academyLoginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            
            try {
                const response = await fetch('/api/academy/login', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        email: formData.get('email'),
                        password: formData.get('password')
                    })
                });

                const data = await response.json();

                if (data.success) {
                    localStorage.setItem('academy_token', data.token);
                    window.location.href = '/';
                } else {
                    document.getElementById('loginModalResult').innerHTML = `<div class="text-red-600 text-sm mt-2">${data.error}</div>`;
                }
            } catch (error) {
                document.getElementById('loginModalResult').innerHTML = `<div class="text-red-600 text-sm mt-2">ë¡œê·¸ì¸ ì˜¤ë¥˜: ${error.message}</div>`;
            }
        });

        // ì´ˆê¸°í™”
        updateProgress(1);
    </script>
</body>
</html>